<div class="reviews__wrapper" *ngIf="reviews$ | async as reviews; else loader">
    <div class="container">
        <h3 class="title reviews__page-title ">Отзывы пользователей на наш сайт</h3>
        <mat-accordion>
            <mat-expansion-panel disabled class="reviews__header">
                <mat-expansion-panel-header hideToggle>
                    <mat-panel-title class="reviews__theme">
                        <div class="reviews_left title">
                            Тема:
                        </div>
                        <div class="reviews_center rating reviews__user-name reviews__title-rating">
                            Оценка:
                        </div>
                        <div class="reviews_right"></div>
                    </mat-panel-title>
                    <mat-panel-description class="reviews__user-name">
                        Имя пользователя:
                    </mat-panel-description>
                </mat-expansion-panel-header>
            </mat-expansion-panel>

            <mat-expansion-panel *ngFor="let review of reviews; index as i">
                <mat-expansion-panel-header>
                    <mat-panel-title class="reviews__theme">
                        <div class="reviews_left">
                            {{i + 1}}. {{review.theme}}
                        </div>
                        <div class="reviews_center rating">
                            <app-flow-rating [review]="review" class="d-flex"></app-flow-rating>
                        </div>
                        <div class="reviews_right"></div>
                    </mat-panel-title>
                    <mat-panel-description class="reviews__user-name">
                        {{review.user['userName']}}
                    </mat-panel-description>
                </mat-expansion-panel-header>
                <p class="reviews__message">
                    <span class="reviews__message-title">Отзыв:</span> {{review.message}}
                </p>
            </mat-expansion-panel>
        </mat-accordion>
    </div>
</div>

<ng-template #loader>
    <app-loader></app-loader>
</ng-template>